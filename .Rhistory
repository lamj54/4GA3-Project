print("Hello world!")
print("This project is going to be great!")
knitr::opts_chunk$set(echo = TRUE)
#Neighbourhood shp
wd <- getwd()
nshp <- st_read(paste(wd, "/Neighbourhoods.shp", sep = ""))
library(spatstat)
library(rgdal)
library(tidyverse)
#Neighbourhood shp
wd <- getwd()
nshp <- st_read(paste(wd, "/Neighbourhoods.shp", sep = ""))
library(sf)
#Neighbourhood shp
wd <- getwd()
nshp <- st_read(paste(wd, "/Neighbourhoods.shp", sep = ""))
st_drivers()
ggplot() +
geom_sf(data = nshp, size = 1, color = "black", fill = "cyan1") +
ggtitle("Neighbourhoods") +
coord_sf()
#Covid Cases
covidcases <- read_csv(paste(wd,"/COVID19 cases.csv", sep=""))
covidcases$`Episode Date`
covidcases$`Episode Date`[1]
class(covidcases$`Episode Date`[1])
View(covidcases)
library(spatstat)
library(isdas)
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE)
#Neighbourhood shp
wd <- getwd()
nshp <- st_read(paste(wd, "/Neighbourhoods.shp", sep = ""))
library(sf)
#Neighbourhood shp
wd <- getwd()
nshp <- st_read(paste(wd, "/Neighbourhoods.shp", sep = ""))
nshp
st_drivers()
ggplot() +
geom_sf(data = nshp, size = 1, color = "black", fill = "cyan1") +
ggtitle("Neighbourhoods") +
coord_sf()
#Covid Cases
covidcases <- read_csv(paste(wd,"/COVID19 cases.csv", sep=""))
chr <- as.character.Date(covidcases$`Episode Date`)
covidcases$'nd' <-chr
fweek <- c("2021-12-01","2021-12-02","2021-12-03","2021-12-04","2021-12-05","2021-12-06","2021-12-07")
lweek <- c("2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31")
fweektb <- subset(covidcases,nd %in% fweek)
lweektb <- subset(covidcases,nd %in% lweek)
ftab <- as.data.frame(table(fweektb$`Neighbourhood Name`))
ltab <- as.data.frame(table(lweektb$`Neighbourhood Name`))
View(lweektb)
View(fweektb)
View(ftab)
View(ltab)
View(nshp)
View(nshp)
Final_Table <- df("Neighbourhood_Name", "F_weekcases", "L_weekcases", "POP", "F_weekrate,", "L_weekrate", "Rate_over_month" )
#"Neighbourhood_Name", "F_weekcases", "L_weekcases", "POP", "F_weekrate,", "L_weekrate", #"Rate_over_month"
Neigbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
F_weekrate <- ltab$Freq / 1000
Final_Table <- df(Neighbourhood, F_weekcases, L_weekcases, F_weekrate)
#"Neighbourhood_Name", "F_weekcases", "L_weekcases", "POP", "F_weekrate,", "L_weekrate", #"Rate_over_month"
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
F_weekrate <- ltab$Freq / 1000
Final_Table <- df(Neighbourhood, F_weekcases, L_weekcases, F_weekrate)
#"Neighbourhood_Name", "F_weekcases", "L_weekcases", "POP", "F_weekrate,", "L_weekrate", #"Rate_over_month"
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
F_weekrate <- ltab$Freq / 1000
Final_Table <- df(F_weekcases, L_weekcases, F_weekrate)
#"Neighbourhood_Name", "F_weekcases", "L_weekcases", "POP", "F_weekrate,", "L_weekrate", #"Rate_over_month"
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
F_weekrate <- ltab$Freq / 1000
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases, F_weekrate)
View(Final_Table)
View(Final_Table)
#"Neighbourhood_Name", "F_weekcases", "L_weekcases", "POP", "F_weekrate,", "L_weekrate", #"Rate_over_month"
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
F_weekrate <- ftab$Freq / 1000
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases, F_weekrate)
#"Neighbourhood_Name", "F_weekcases", "L_weekcases", "POP", "F_weekrate,", "L_weekrate", #"Rate_over_month"
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
F_weekrate <- ftab$Freq / ltab$Freq
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases, F_weekrate)
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases, Case_over_month)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
# Set your working directory to the project folder
wd <- getwd()
nshp <- st_read(paste(wd, "/Neighbourhoods.shp", sep = ""))
#Libraries needed (maybe?)
library(isdas)
library(spatstat)
library(tidyverse)
library(ggplot2)
library(rgdal)
library(sf)
library(dplyr)
# Set your working directory to the project folder
wd <- getwd()
nshp <- st_read(paste(wd, "/Neighbourhoods.shp", sep = ""))
nshp
st_drivers()
ggplot() +
geom_sf(data = nshp, size = 1, color = "black", fill = "cyan1") +
ggtitle("Neighbourhoods") +
coord_sf()
#Covid Cases
covidcases <- read_csv(paste(wd,"/COVID19 cases.csv", sep=""))
#Neighborhood Data
neighborhood <- read_csv(paste(wd,"/Neighbourhood_POP", sep=""))
#Covid Cases
covidcases <- read_csv(paste(wd,"/COVID19 cases.csv", sep=""))
#Neighborhood Data
neighborhood <- read_csv(paste(wd,"/Neighbourhood_POP.csv", sep=""))
View(neighborhood)
View(covidcases)
View(covidcases)
chr <- as.character.Date(covidcases$`Episode Date`)
covidcases$'nd' <-chr
fweek <- c("2021-12-01","2021-12-02","2021-12-03","2021-12-04","2021-12-05","2021-12-06","2021-12-07")
lweek <- c("2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31")
fweektb <- subset(covidcases,nd %in% fweek)
lweektb <- subset(covidcases,nd %in% lweek)
ftab <- as.data.frame(table(fweektb$`Neighbourhood Name`))
ltab <- as.data.frame(table(lweektb$`Neighbourhood Name`))
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
View(Final_Table)
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
merge(Final_Table, neighborhood)
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
Final_Table <- merge(Final_Table, neighborhood)
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
#Create Final table
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
#Merge neighbour with final table
Final_Table <- merge(Final_Table, neighbourhood)
#Covid Cases
covidcases <- read_csv(paste(wd,"/COVID19 cases.csv", sep=""))
#Neighborhood Data
neighbourhood <- read_csv(paste(wd,"/Neighbourhood_POP.csv", sep=""))
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
#Create Final table
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
#Merge neighbour with final table
Final_Table <- merge(Final_Table, neighbourhood)
#Creating the rates
Final_Table$F_weekrate <- F_weekcases/neighbourhood
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
#Create Final table
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
#Merge neighbour with final table
Final_Table <- merge(Final_Table, neighbourhood)
#Creating the rates
Final_Table$F_weekrate <- F_weekcases/POP
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
#Create Final table
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
#Merge neighbour with final table
Final_Table <- merge(Final_Table, neighbourhood)
#Creating the rates
Final_Table$F_weekrate <- Final_Table$F_weekcases/Final_Table$POP
Final_Table$L_weekrate <- Final_Table$L_weekcases/Final_Table$POP
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
#Create Final table
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
#Merge neighbour with final table
Final_Table <- merge(Final_Table, neighbourhood)
#Creating the rates
Final_Table$F_weekrate <- Final_Table$F_weekcases/Final_Table$POP * 1000
Final_Table$L_weekrate <- Final_Table$L_weekcases/Final_Table$POP * 1000
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
#Create Final table
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
#Merge neighbour with final table
Final_Table <- merge(Final_Table, neighbourhood)
#Creating the rates
Final_Table$F_weekrate <- Final_Table$F_weekcases/Final_Table$POP * 10000
Final_Table$L_weekrate <- Final_Table$L_weekcases/Final_Table$POP * 10000
knitr::opts_chunk$set(echo = TRUE)
#Covid Cases
NeighbourhoodIncome <- read_csv(paste(wd,"/NeighbourhoodsIncomeData.csv", sep=""))
#Libraries needed (maybe?)
library(isdas)
library(spatstat)
library(tidyverse)
library(ggplot2)
library(rgdal)
#Libraries needed (maybe?)
library(isdas)
library(spatstat)
library(tidyverse)
library(ggplot2)
library(rgdal)
library(sf)
library(dplyr)
#Covid Cases
NeighbourhoodIncome <- read_csv(paste(wd,"/NeighbourhoodsIncomeData.csv", sep=""))
setwd("~/Year 4/ENVSOCTY 4GA3/4GA3-Project")
# Set your working directory to the project folder
wd <- getwd()
nshp <- st_read(paste(wd, "/Neighbourhoods.shp", sep = ""))
nshp
st_drivers()
ggplot() +
geom_sf(data = nshp, size = 1, color = "black", fill = "cyan1") +
ggtitle("Neighbourhoods") +
coord_sf()
#Covid Cases
NeighbourhoodIncome <- read_csv(paste(wd,"/NeighbourhoodsIncomeData.csv", sep=""))
View(NeighbourhoodIncome)
View(NeighbourhoodIncome)
View(covidcases)
View(covidcases)
#Merge neighbourhood income data with final table
Final_Table <- merge(Final_Table, NeighbourhoodIncome)
View(Final_Table)
View(Final_Table)
knitr::opts_chunk$set(echo = TRUE)
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
#Create Final table
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
#Merge neighbour with final table
Final_Table <- merge(Final_Table, neighbourhood)
# Creating the case rates per 10,000
Final_Table$F_weekrate <- Final_Table$F_weekcases/Final_Table$POP * 10000
Final_Table$L_weekrate <- Final_Table$L_weekcases/Final_Table$POP * 10000
# Creating rate change
Final_Table$Rate_Change <- Final_Table$L_weekrate - Final_Table$F_weekrate
# Creating fold increase
Final_Table$fold_increase <- (Final_Table$L_weekrate - Final_Table$F_weekrate) /Final_Table$F_weekrate
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
#Libraries needed (maybe?)
library(isdas)
library(spatstat)
library(tidyverse)
library(ggplot2)
library(rgdal)
library(sf)
library(dplyr)
# Set your working directory to the project folder
wd <- getwd()
nshp <- st_read(paste(wd, "/Neighbourhoods.shp", sep = ""))
nshp
st_drivers()
ggplot() +
geom_sf(data = nshp, size = 1, color = "black", fill = "cyan1") +
ggtitle("Neighbourhoods") +
coord_sf()
#Covid Cases
covidcases <- read_csv(paste(wd,"/COVID19 cases.csv", sep=""))
#Neighborhood Data
neighbourhood <- read_csv(paste(wd,"/Neighbourhood_POP.csv", sep=""))
chr <- as.character.Date(covidcases$`Episode Date`)
covidcases$'nd' <-chr
fweek <- c("2021-12-01","2021-12-02","2021-12-03","2021-12-04","2021-12-05","2021-12-06","2021-12-07")
lweek <- c("2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31")
fweektb <- subset(covidcases,nd %in% fweek)
lweektb <- subset(covidcases,nd %in% lweek)
ftab <- as.data.frame(table(fweektb$`Neighbourhood Name`))
ltab <- as.data.frame(table(lweektb$`Neighbourhood Name`))
covidcases$`Episode Date`[1]
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
#Create Final table
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
#3 Neighbourhood are different so there must be an manual correction prior to merging
neighbourhood$Neighbourhood[128] <- "Weston-Pellam Park"
neighbourhood$Neighbourhood[16] <- "Briar Hill - Belgravia"
neighbourhood$Neighbourhood[30] <- "Danforth-East York"
#Merge neighbour with final table
Final_Table <- merge(Final_Table, neighbourhood)
# Creating the case rates per 10,000
Final_Table$F_weekrate <- Final_Table$F_weekcases/Final_Table$POP * 10000
Final_Table$L_weekrate <- Final_Table$L_weekcases/Final_Table$POP * 10000
# Creating rate change
Final_Table$Rate_Change <- Final_Table$L_weekrate - Final_Table$F_weekrate
# Creating fold increase
Final_Table$fold_increase <- (Final_Table$L_weekrate - Final_Table$F_weekrate) /Final_Table$F_weekrate
#Neighbourhood Income Data
Socioeconomic_variables <- read_csv(paste(wd,"/Neighbourhoods_socioeconomic_variables.csv", sep=""))
#Merge neighbourhood socioeconomic variables data with final table
Final_Table <- merge(Final_Table, Socioeconomic_variables)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
#Libraries needed (maybe?)
library(isdas)
library(spatstat)
library(tidyverse)
library(ggplot2)
library(rgdal)
library(sf)
library(dplyr)
# Set your working directory to the project folder
wd <- getwd()
nshp <- st_read(paste(wd, "/Neighbourhoods.shp", sep = ""))
nshp
st_drivers()
ggplot() +
geom_sf(data = nshp, size = 1, color = "black", fill = "cyan1") +
ggtitle("Neighbourhoods") +
coord_sf()
#Covid Cases
covidcases <- read_csv(paste(wd,"/COVID19 cases.csv", sep=""))
#Neighborhood Data
neighbourhood <- read_csv(paste(wd,"/Neighbourhood_POP.csv", sep=""))
chr <- as.character.Date(covidcases$`Episode Date`)
covidcases$'nd' <-chr
fweek <- c("2021-12-01","2021-12-02","2021-12-03","2021-12-04","2021-12-05","2021-12-06","2021-12-07")
lweek <- c("2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31")
fweektb <- subset(covidcases,nd %in% fweek)
lweektb <- subset(covidcases,nd %in% lweek)
ftab <- as.data.frame(table(fweektb$`Neighbourhood Name`))
ltab <- as.data.frame(table(lweektb$`Neighbourhood Name`))
covidcases$`Episode Date`[1]
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
#Create Final table
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
#3 Neighbourhood are different so there must be an manual correction prior to merging
neighbourhood$Neighbourhood[128] <- "Weston-Pellam Park"
neighbourhood$Neighbourhood[16] <- "Briar Hill - Belgravia"
neighbourhood$Neighbourhood[30] <- "Danforth-East York"
#Merge neighbour with final table
Final_Table <- merge(Final_Table, neighbourhood)
# Creating the case rates per 10,000
Final_Table$F_weekrate <- Final_Table$F_weekcases/Final_Table$POP * 10000
Final_Table$L_weekrate <- Final_Table$L_weekcases/Final_Table$POP * 10000
# Creating rate change
Final_Table$Rate_Change <- Final_Table$L_weekrate - Final_Table$F_weekrate
# Creating fold increase
Final_Table$fold_increase <- (Final_Table$L_weekrate - Final_Table$F_weekrate) /Final_Table$F_weekrate
#Neighbourhood Income Data
Socioeconomic_variables <- read_csv(paste(wd,"/Neighbourhoods_socioeconomic_variables.csv", sep=""))
#Merge neighbourhood socioeconomic variables data with final table
Final_Table <- merge(Final_Table, Socioeconomic_variables)
#3 Neighbourhood are different so there must be an manual correction prior to merging
Socioeconomic_variables$Neighbourhood[128] <- "Weston-Pellam Park"
Socioeconomic_variables$Neighbourhood[16] <- "Briar Hill - Belgravia"
Socioeconomic_variables$Neighbourhood[30] <- "Danforth-East York"
#Merge neighbourhood socioeconomic variables data with final table
Final_Table <- merge(Final_Table, Socioeconomic_variables)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
#Libraries needed (maybe?)
library(isdas)
library(spatstat)
library(tidyverse)
library(ggplot2)
library(rgdal)
library(sf)
library(dplyr)
# Set your working directory to the project folder
wd <- getwd()
nshp <- st_read(paste(wd, "/Neighbourhoods.shp", sep = ""))
nshp
st_drivers()
ggplot() +
geom_sf(data = nshp, size = 1, color = "black", fill = "cyan1") +
ggtitle("Neighbourhoods") +
coord_sf()
#Covid Cases
covidcases <- read_csv(paste(wd,"/COVID19 cases.csv", sep=""))
#Neighborhood Data
neighbourhood <- read_csv(paste(wd,"/Neighbourhood_POP.csv", sep=""))
chr <- as.character.Date(covidcases$`Episode Date`)
covidcases$'nd' <-chr
fweek <- c("2021-12-01","2021-12-02","2021-12-03","2021-12-04","2021-12-05","2021-12-06","2021-12-07")
lweek <- c("2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31")
fweektb <- subset(covidcases,nd %in% fweek)
lweektb <- subset(covidcases,nd %in% lweek)
ftab <- as.data.frame(table(fweektb$`Neighbourhood Name`))
ltab <- as.data.frame(table(lweektb$`Neighbourhood Name`))
#This section in creating final_table
#Neighbourhood_Name, F_weekcases, L_weekcases, POP, F_weekrate,, L_weekrate, Rate_over_month, Case_over_month
#We need to add population for each neighbourhood and join it to the final table
Neighbourhood <- ftab$Var1
F_weekcases <- ftab$Freq
L_weekcases <- ltab$Freq
Case_over_month <- ltab$Freq - ftab$Freq
#Create Final table
Final_Table <- data.frame(Neighbourhood, F_weekcases, L_weekcases)
#3 Neighbourhood are different so there must be an manual correction prior to merging
neighbourhood$Neighbourhood[128] <- "Weston-Pellam Park"
neighbourhood$Neighbourhood[16] <- "Briar Hill - Belgravia"
neighbourhood$Neighbourhood[30] <- "Danforth-East York"
#Merge neighbour with final table
Final_Table <- merge(Final_Table, neighbourhood)
# Creating the case rates per 10,000
Final_Table$F_weekrate <- Final_Table$F_weekcases/Final_Table$POP * 10000
Final_Table$L_weekrate <- Final_Table$L_weekcases/Final_Table$POP * 10000
# Creating rate change
Final_Table$Rate_Change <- Final_Table$L_weekrate - Final_Table$F_weekrate
# Creating fold increase
Final_Table$fold_increase <- (Final_Table$L_weekrate - Final_Table$F_weekrate) /Final_Table$F_weekrate
#Neighbourhood Income Data
Socioeconomic_variables <- read_csv(paste(wd,"/Neighbourhoods_socioeconomic_variables.csv", sep=""))
#3 Neighbourhood are different so there must be an manual correction prior to merging
Socioeconomic_variables$Neighbourhood[128] <- "Weston-Pellam Park"
Socioeconomic_variables$Neighbourhood[16] <- "Briar Hill - Belgravia"
Socioeconomic_variables$Neighbourhood[30] <- "Danforth-East York"
#Merge neighbourhood socioeconomic variables data with final table
Final_Table <- merge(Final_Table, Socioeconomic_variables)
View(Final_Table)
View(Final_Table)
